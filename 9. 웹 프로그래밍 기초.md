# 9. ì›¹ í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ

## HTTP í”„ë¡œí† ì½œ ì´í•´

**HTTP (HyperText Transfer Protocol)** ëŠ” ì›¹ ë¸Œë¼ìš°ì €ì™€ ì›¹ ì„œë²„ ì‚¬ì´ì˜ **í†µì‹  ê·œì•½**ì´ë‹¤.
 ì›¹ì—ì„œ ì´ë£¨ì–´ì§€ëŠ” ëª¨ë“  ìš”ì²­(request)ê³¼ ì‘ë‹µ(response)ì€ HTTPë¥¼ í†µí•´ ì „ë‹¬ë˜ë©°, **REST API, ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜, í¬ë¡¤ë§, í´ë¼ì´ì–¸íŠ¸-ì„œë²„ í†µì‹ **ì˜ ê·¼ê°„ì´ ëœë‹¤.

### âœ… ê¸°ë³¸ ê°œë…

- **í´ë¼ì´ì–¸íŠ¸** â†’ ìš”ì²­ (request)
- **ì„œë²„** â†’ ì‘ë‹µ (response)
- **ë¬´ìƒíƒœ(stateless)**: ê° ìš”ì²­ì€ **ë…ë¦½ì **ì´ë©° ì´ì „ ìš”ì²­ ìƒíƒœë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠìŒ
- **í…ìŠ¤íŠ¸ ê¸°ë°˜** í”„ë¡œí† ì½œ: ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” êµ¬ì¡°

### ğŸ§± HTTP ìš”ì²­ êµ¬ì¡°

```
GET /index.html HTTP/1.1
Host: www.example.com
User-Agent: Mozilla/5.0
Accept: text/html
```

| êµ¬ì„± ìš”ì†Œ | ì„¤ëª…                                            |
| --------- | ----------------------------------------------- |
| ìš”ì²­ ë¼ì¸ | `GET /index.html HTTP/1.1` â† ë©”ì„œë“œ, ê²½ë¡œ, ë²„ì „ |
| í—¤ë”      | ìš”ì²­ ë©”íƒ€ ì •ë³´ (`Host`, `User-Agent` ë“±)        |
| ë³¸ë¬¸      | (ì„ íƒì ) POSTë‚˜ PUT ë“±ì˜ ìš”ì²­ ì‹œ ì „ì†¡í•  ë°ì´í„°  |

### ğŸ“¥ HTTP ì‘ë‹µ êµ¬ì¡°

```
HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 305

<html>...</html>
```

| êµ¬ì„± ìš”ì†Œ | ì„¤ëª…                                               |
| --------- | -------------------------------------------------- |
| ìƒíƒœ ë¼ì¸ | `HTTP/1.1 200 OK` â† ë²„ì „, ìƒíƒœ ì½”ë“œ, ë©”ì‹œì§€        |
| í—¤ë”      | ì‘ë‹µ ë©”íƒ€ ì •ë³´ (`Content-Type`, `Set-Cookie`, ...) |
| ë³¸ë¬¸      | HTML, JSON, ì´ë¯¸ì§€ ë“± ì‹¤ì œ ë°ì´í„° ë‚´ìš©             |

### ğŸ“¡ ì£¼ìš” HTTP ë©”ì„œë“œ

| ë©”ì„œë“œ    | ì„¤ëª…                                  |
| --------- | ------------------------------------- |
| `GET`     | ë°ì´í„° ì¡°íšŒ (íŒŒë¼ë¯¸í„°ëŠ” URLì— í¬í•¨)   |
| `POST`    | ë°ì´í„° ìƒì„±/ì „ì†¡ (ë³¸ë¬¸ì— ë°ì´í„° í¬í•¨) |
| `PUT`     | ì „ì²´ ìì› ê°±ì‹                         |
| `PATCH`   | ë¶€ë¶„ ìì› ê°±ì‹                         |
| `DELETE`  | ìì› ì‚­ì œ                             |
| `HEAD`    | ë³¸ë¬¸ ì—†ì´ í—¤ë”ë§Œ ìš”ì²­                 |
| `OPTIONS` | ì§€ì› ë©”ì„œë“œ ì¡°íšŒ (CORS ë“±ì—ì„œ ì‚¬ìš©)   |

### ğŸ§¾ ì£¼ìš” ìƒíƒœ ì½”ë“œ

| ì½”ë“œ                        | ì˜ë¯¸             |
| --------------------------- | ---------------- |
| `200 OK`                    | ìš”ì²­ ì„±ê³µ        |
| `201 Created`               | ìì› ìƒì„±ë¨      |
| `204 No Content`            | ë³¸ë¬¸ ì—†ìŒ (ì„±ê³µ) |
| `301 Moved Permanently`     | ì˜êµ¬ ë¦¬ë””ë ‰ì…˜    |
| `302 Found`                 | ì„ì‹œ ë¦¬ë””ë ‰ì…˜    |
| `400 Bad Request`           | ì˜ëª»ëœ ìš”ì²­      |
| `401 Unauthorized`          | ì¸ì¦ ì‹¤íŒ¨        |
| `403 Forbidden`             | ê¶Œí•œ ì—†ìŒ        |
| `404 Not Found`             | ìì› ì—†ìŒ        |
| `500 Internal Server Error` | ì„œë²„ ì˜¤ë¥˜        |

### ğŸ› ï¸ URL, ì¿¼ë¦¬ìŠ¤íŠ¸ë§, ê²½ë¡œ ë³€ìˆ˜

- URL (Uniform Resource Locator): ìš”ì²­ ì£¼ì†Œ
- ì¿¼ë¦¬ìŠ¤íŠ¸ë§: `?key=value&...` í˜•ì‹ìœ¼ë¡œ ì „ë‹¬
- ê²½ë¡œ ë³€ìˆ˜: `/user/123/profile` ì²˜ëŸ¼ URI ë‚´ í¬í•¨

### ğŸ” HTTP vs HTTPS

| í•­ëª©   | HTTP   | HTTPS             |
| ------ | ------ | ----------------- |
| ì•”í˜¸í™” | âŒ ì—†ìŒ | âœ… TLS ê¸°ë°˜ ì•”í˜¸í™” |
| ë³´ì•ˆì„± | ë‚®ìŒ   | ë†’ìŒ              |
| í¬íŠ¸   | 80ë²ˆ   | 443ë²ˆ             |

### ğŸŒ RESTful ì„¤ê³„ì™€ì˜ ê´€ê³„

HTTPëŠ” REST APIì˜ ê¸°ë°˜ì´ë©°, ë‹¤ìŒê³¼ ê°™ì´ HTTP ë©”ì„œë“œì™€ ë¦¬ì†ŒìŠ¤ê°€ ì—°ê²°ë¨:

| í–‰ìœ„ | HTTP            | ì˜ˆì‹œ ê²½ë¡œ  |
| ---- | --------------- | ---------- |
| ì¡°íšŒ | `GET`           | `/users`   |
| ìƒì„± | `POST`          | `/users`   |
| ìˆ˜ì • | `PUT` / `PATCH` | `/users/1` |
| ì‚­ì œ | `DELETE`        | `/users/1` |

### ğŸ§ª ì‹¤ì „ ì˜ˆ: Pythonìœ¼ë¡œ HTTP ìš”ì²­

```
import requests

response = requests.get("https://jsonplaceholder.typicode.com/posts/1")
print(response.status_code)
print(response.json())
```

### ğŸ¯ ìš”ì•½

| í•­ëª©     | ë‚´ìš©                                         |
| -------- | -------------------------------------------- |
| í”„ë¡œí† ì½œ | í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê°„ í…ìŠ¤íŠ¸ ê¸°ë°˜ í†µì‹           |
| êµ¬ì¡°     | ìš”ì²­(Request) / ì‘ë‹µ(Response)               |
| ë©”ì„œë“œ   | GET, POST, PUT, DELETE ë“±                    |
| ìƒíƒœì½”ë“œ | 200, 404, 500 ë“±ìœ¼ë¡œ ì²˜ë¦¬ ê²°ê³¼ í‘œí˜„          |
| íŠ¹ì§•     | ë¬´ìƒíƒœ, í™•ì¥ì„± ë›°ì–´ë‚¨                        |
| í™œìš©     | ì›¹, API, í¬ë¡¤ëŸ¬, í”„ë¡ íŠ¸ì—”ë“œ/ë°±ì—”ë“œ í†µì‹  ì „ë°˜ |

HTTPëŠ” **ì›¹ì˜ ì–¸ì–´ì´ì API ì„¤ê³„ì˜ í•µì‹¬**ì´ë‹¤.
 ì´ë¥¼ ì •í™•íˆ ì´í•´í•˜ë©´ **RESTful API êµ¬í˜„, í†µì‹  ë””ë²„ê¹…, ë³´ì•ˆ ê°•í™”** ë“± ë‹¤ì–‘í•œ ê°œë°œ ë¶„ì•¼ì—ì„œ **í•µì‹¬ ëŠ¥ë ¥**ì„ ë°œíœ˜í•  ìˆ˜ ìˆë‹¤.

## REST API í˜¸ì¶œ (`requests` ëª¨ë“ˆ)

Pythonì˜ `requests` ëª¨ë“ˆì€ HTTP ìš”ì²­ì„ ë§¤ìš° ê°„í¸í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” **ê³ ìˆ˜ì¤€ì˜ HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬**ë‹¤.
 íŠ¹íˆ REST API í˜¸ì¶œì— ë„ë¦¬ ì‚¬ìš©ë˜ë©°, **GET, POST, PUT, DELETE** ë“± ëŒ€ë¶€ë¶„ì˜ HTTP ë©”ì„œë“œë¥¼ ì§ê´€ì ì¸ ë¬¸ë²•ìœ¼ë¡œ ì§€ì›í•œë‹¤.

### âœ… ì„¤ì¹˜ ë°©ë²• (í•„ìš” ì‹œ)

```
pip install requests
```

### ğŸŒ ê¸°ë³¸ ì‚¬ìš©ë²•: `GET` ìš”ì²­

```
import requests

response = requests.get("https://jsonplaceholder.typicode.com/posts/1")
print(response.status_code)      # ìƒíƒœ ì½”ë“œ
print(response.headers["Content-Type"])  # ì‘ë‹µ í—¤ë”
print(response.text)             # ì‘ë‹µ ë³¸ë¬¸ (str)
print(response.json())           # JSON íŒŒì‹± (dict)
```

### ğŸ“¬ `POST` ìš”ì²­ (ë°ì´í„° ì „ì†¡)

```
url = "https://jsonplaceholder.typicode.com/posts"
data = {
    "title": "Hello",
    "body": "This is a test",
    "userId": 1
}

response = requests.post(url, json=data)
print(response.status_code)  # 201 Created
print(response.json())
```

- `json=data` â†’ ìë™ìœ¼ë¡œ JSON ì§ë ¬í™” + `Content-Type` ì„¤ì •
- `data=data` â†’ `application/x-www-form-urlencoded` í˜•ì‹ ì „ì†¡

### ğŸ“¦ `PUT` / `PATCH` / `DELETE`

```
requests.put("https://example.com/posts/1", json={"title": "Updated"})
requests.patch("https://example.com/posts/1", json={"title": "Patched"})
requests.delete("https://example.com/posts/1")
```

### ğŸ“‘ URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì „ì†¡

```
params = {"userId": 1}
response = requests.get("https://jsonplaceholder.typicode.com/posts", params=params)
print(response.url)  # ...?userId=1
```

### ğŸ” í—¤ë” ì„¤ì • ë° í† í° ì¸ì¦

```
headers = {
    "Authorization": "Bearer YOUR_ACCESS_TOKEN",
    "User-Agent": "my-app"
}
response = requests.get("https://api.example.com/data", headers=headers)
```

### ğŸ“¤ íŒŒì¼ ì—…ë¡œë“œ

```
files = {"file": open("example.txt", "rb")}
response = requests.post("https://api.example.com/upload", files=files)
```

### ğŸ§¯ ì˜ˆì™¸ ì²˜ë¦¬ ë° íƒ€ì„ì•„ì›ƒ

```
try:
    response = requests.get("https://example.com", timeout=5)
    response.raise_for_status()  # HTTP ì—ëŸ¬ ì‹œ ì˜ˆì™¸ ë°œìƒ
except requests.exceptions.Timeout:
    print("ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.")
except requests.exceptions.HTTPError as e:
    print("HTTP ì—ëŸ¬ ë°œìƒ:", e)
except requests.exceptions.RequestException as e:
    print("ì¼ë°˜ ë„¤íŠ¸ì›Œí¬ ì˜ˆì™¸:", e)
```

### ğŸ›ï¸ ì‘ë‹µ ê°ì²´ ì£¼ìš” ì†ì„±

| ì†ì„±                   | ì„¤ëª…                          |
| ---------------------- | ----------------------------- |
| `response.status_code` | HTTP ìƒíƒœ ì½”ë“œ                |
| `response.text`        | ë³¸ë¬¸ (str)                    |
| `response.json()`      | JSON íŒŒì‹± ê²°ê³¼ (dict)         |
| `response.headers`     | ì‘ë‹µ í—¤ë” (ë”•ì…”ë„ˆë¦¬)          |
| `response.url`         | ìš”ì²­ ìµœì¢… URL (ë¦¬ë””ë ‰ì…˜ í¬í•¨) |
| `response.cookies`     | ì¿ í‚¤ ì •ë³´                     |

### ğŸ¯ ìš”ì•½

| ê¸°ëŠ¥          | ì˜ˆì‹œ                                        |
| ------------- | ------------------------------------------- |
| GET ìš”ì²­      | `requests.get(url)`                         |
| POST ìš”ì²­     | `requests.post(url, json=data)`             |
| PUT / DELETE  | `requests.put(...)`, `requests.delete(...)` |
| ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° | `params={"key": "value"}`                   |
| í—¤ë” ì„¤ì •     | `headers={"Authorization": "..."} `         |
| ì˜ˆì™¸ ì²˜ë¦¬     | `raise_for_status()`, try/except            |
| ì‘ë‹µ JSON     | `response.json()`                           |

`requests`ëŠ” Pythonì—ì„œ REST APIë¥¼ ë‹¤ë£° ë•Œ ê°€ì¥ í‘œì¤€ì ì´ê³  ì•ˆì •ì ì¸ ë„êµ¬ë¡œ,
 **ì›¹ í¬ë¡¤ëŸ¬, ë°±ì—”ë“œ API í´ë¼ì´ì–¸íŠ¸, í…ŒìŠ¤íŠ¸ ìë™í™”, ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„** ë“± ê±°ì˜ ëª¨ë“  ì›¹ ì—°ë™ ì‘ì—…ì˜ í•µì‹¬ì´ë‹¤.

## ì›¹ í¬ë¡¤ë§

### âœ… ê¸°ë³¸ íë¦„

1. ì›¹ í˜ì´ì§€ ìš”ì²­ (`requests`)
2. HTML ì‘ë‹µ ë°›ê¸°
3. HTML íŒŒì‹± (`BeautifulSoup`)
4. ì›í•˜ëŠ” ì •ë³´ ì¶”ì¶œ
5. íŒŒì¼ë¡œ ì €ì¥ or í›„ì† ì²˜ë¦¬

### ğŸ“¦ ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬      | ì„¤ëª…                                    |
| --------------- | --------------------------------------- |
| `requests`      | ì›¹ í˜ì´ì§€ ìš”ì²­ (HTTP)                   |
| `BeautifulSoup` | HTML íŒŒì‹± ë° ìš”ì†Œ ì¶”ì¶œ                  |
| `Selenium`      | ìë°”ìŠ¤í¬ë¦½íŠ¸ ë Œë”ë§ í˜ì´ì§€ ì²˜ë¦¬         |
| `Scrapy`        | í¬ë¡¤ëŸ¬ í”„ë ˆì„ì›Œí¬ (ëŒ€ê·œëª¨, ë¹„ë™ê¸° ì²˜ë¦¬) |

### ğŸ§ª ê¸°ë³¸ ì˜ˆì œ: `requests` + `BeautifulSoup`

```
import requests
from bs4 import BeautifulSoup

url = "https://example.com"
response = requests.get(url)

soup = BeautifulSoup(response.text, "html.parser")
title = soup.find("h1").text

print("ì œëª©:", title)
```

### ğŸ” ì •ë³´ ì¶”ì¶œ ë°©ë²•

| ë©”ì„œë“œ         | ì„¤ëª…                    |
| -------------- | ----------------------- |
| `find()`       | ì²« ë²ˆì§¸ ìš”ì†Œ ì°¾ê¸°       |
| `find_all()`   | ëª¨ë“  ìš”ì†Œ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜ |
| `select()`     | CSS ì„ íƒìë¡œ ìš”ì†Œ ì°¾ê¸°  |
| `.text`        | íƒœê·¸ ì•ˆì˜ í…ìŠ¤íŠ¸ ì¶”ì¶œ   |
| `.get("href")` | ì†ì„± ì¶”ì¶œ (ì˜ˆ: ë§í¬)    |

```
for link in soup.select("a"):
    print(link.get("href"))
```

### âš ï¸ í¬ë¡¤ë§ ì‹œ ì£¼ì˜ì‚¬í•­

- **robots.txt**: í¬ë¡¤ë§ í—ˆìš© ì—¬ë¶€ í™•ì¸
- **ê³¼ë„í•œ ìš”ì²­ ê¸ˆì§€**: `time.sleep()`ìœ¼ë¡œ ë”œë ˆì´ ì£¼ê¸°
- **User-Agent ì§€ì •**: ë´‡ ì°¨ë‹¨ ë°©ì§€

```
headers = {"User-Agent": "Mozilla/5.0"}
requests.get(url, headers=headers)
```

### ğŸ’¡ ìë°”ìŠ¤í¬ë¦½íŠ¸ í˜ì´ì§€ëŠ” Selenium í•„ìš”

```
from selenium import webdriver
from selenium.webdriver.common.by import By

driver = webdriver.Chrome()
driver.get("https://example.com")

element = driver.find_element(By.TAG_NAME, "h1")
print(element.text)

driver.quit()
```

ì›í•˜ëŠ” ë°©ì‹ì´ ìˆë‹¤ë©´ (`Selenium`, `Scrapy`, ë¡œê·¸ì¸ í¬ë¡¤ë§, ë¬´í•œ ìŠ¤í¬ë¡¤ ì²˜ë¦¬ ë“±) ê·¸ ì£¼ì œë¡œ ë” ìì„¸íˆ ë“¤ì–´ê°ˆ ìˆ˜ ìˆì–´.
 ì›í•˜ëŠ” ë°©í–¥ì„ ë§í•´ì¤˜.

## JSON ì²˜ë¦¬

Pythonì€ JSON(JavaScript Object Notation) ë°ì´í„°ì˜ ì¸ì½”ë”© ë° ë””ì½”ë”©ì„ ìœ„í•´ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ [`json`](https://docs.python.org/3/library/json.html) ëª¨ë“ˆì„ ì œê³µí•œë‹¤. ì´ ëª¨ë“ˆì€ JSON í˜•ì‹ì˜ ë¬¸ìì—´ì„ Python ê°ì²´ë¡œ ì—­ì§ë ¬í™”(deserialization)í•˜ê±°ë‚˜, Python ê°ì²´ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì§ë ¬í™”(serialization)í•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.

### 1. ëª¨ë“ˆ ì„í¬íŠ¸

```
import json
```

ëª¨ë“  JSON ì‘ì—…ì€ `json` ëª¨ë“ˆì„ í†µí•´ ìˆ˜í–‰ëœë‹¤.

### 2. JSON â†” Python íƒ€ì… ë§¤í•‘

| JSON í˜•ì‹    | Python íƒ€ì…  |
| ------------ | ------------ |
| object       | dict         |
| array        | list         |
| string       | str          |
| number       | int / float  |
| true / false | True / False |
| null         | None         |

### 3. ë¬¸ìì—´ ê¸°ë°˜ ì²˜ë¦¬

#### 3.1 `json.loads()`

JSON í˜•ì‹ì˜ ë¬¸ìì—´ì„ Python ê°ì²´ë¡œ ë³€í™˜í•œë‹¤.

```
json_str = '{"name": "Alice", "age": 30}'
data = json.loads(json_str)
```

- ë°˜í™˜ê°’ì€ Pythonì˜ `dict`, `list` ë“±ìœ¼ë¡œ ë³€í™˜ëœë‹¤.
- ì…ë ¥ì€ ë°˜ë“œì‹œ ìœ íš¨í•œ JSON ë¬¸ìì—´ì´ì–´ì•¼ í•œë‹¤.

#### 3.2 `json.dumps()`

Python ê°ì²´ë¥¼ JSON í˜•ì‹ì˜ ë¬¸ìì—´ë¡œ ì§ë ¬í™”í•œë‹¤.

```
obj = {"name": "Bob", "age": 25}
json_str = json.dumps(obj)
```

- ë°˜í™˜ê°’ì€ ë¬¸ìì—´ì´ë©°, íŒŒì¼ì— ì €ì¥í•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ë¬¸ìì—´ ì¸ì½”ë”©ì€ UTF-8ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ `ASCII` ì´ìŠ¤ì¼€ì´í”„ë¥¼ ì ìš©í•œë‹¤.

**ì˜ˆì˜ê²Œ ì¶œë ¥í•˜ê¸°**

```
json.dumps(obj, indent=2, ensure_ascii=False)
```

- `indent`: ê³„ì¸µ êµ¬ì¡°ë¥¼ ê°€ë…ì„± ìˆê²Œ ë“¤ì—¬ì“°ê¸°
- `ensure_ascii=False`: ìœ ë‹ˆì½”ë“œ ë¬¸ì(ì˜ˆ: í•œê¸€)ë¥¼ ì´ìŠ¤ì¼€ì´í”„í•˜ì§€ ì•ŠìŒ

### 4. íŒŒì¼ ê¸°ë°˜ ì²˜ë¦¬

#### 4.1 `json.load()`

íŒŒì¼ ê°ì²´ë¡œë¶€í„° JSON ë°ì´í„°ë¥¼ ì½ì–´ë“¤ì—¬ Python ê°ì²´ë¡œ ë³€í™˜í•œë‹¤.

```
with open("data.json", "r", encoding="utf-8") as f:
    data = json.load(f)
```

#### 4.2 `json.dump()`

Python ê°ì²´ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì§ë ¬í™”í•˜ì—¬ íŒŒì¼ ê°ì²´ì— ê¸°ë¡í•œë‹¤.

```
with open("output.json", "w", encoding="utf-8") as f:
    json.dump(obj, f, indent=4, ensure_ascii=False)
```

### 5. ê³ ê¸‰ ì§ë ¬í™” ì˜µì…˜

#### 5.1 ì •ë ¬ëœ í‚¤ ì¶œë ¥

```
json.dumps(obj, sort_keys=True)
```

- í‚¤ ì´ë¦„ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ì „ í•­ëª©ì„ ì •ë ¬í•˜ì—¬ ì¶œë ¥í•œë‹¤.

#### 5.2 ì‚¬ìš©ì ì •ì˜ íƒ€ì… ì§ë ¬í™”

ì§ë ¬í™” ë¶ˆê°€ëŠ¥í•œ ê°ì²´(`datetime`, ì‚¬ìš©ì ì •ì˜ í´ë˜ìŠ¤ ë“±)ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ì´ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ `default` íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•œë‹¤.

```
import json
from datetime import datetime

def encode_datetime(obj):
    if isinstance(obj, datetime):
        return obj.isoformat()
    raise TypeError("Type not serializable")

json.dumps({"now": datetime.now()}, default=encode_datetime)
```

### 6. ì˜ˆì™¸ ì²˜ë¦¬

| ì˜ˆì™¸ íƒ€ì…              | ì„¤ëª…                                           |
| ---------------------- | ---------------------------------------------- |
| `json.JSONDecodeError` | ì˜ëª»ëœ JSON ë¬¸ìì—´ì„ `loads()` í•  ê²½ìš° ë°œìƒ    |
| `TypeError`            | ì§ë ¬í™”í•  ìˆ˜ ì—†ëŠ” íƒ€ì…ì„ `dumps()` í•  ê²½ìš° ë°œìƒ |

ì˜ˆì‹œ:

```
try:
    data = json.loads("invalid json")
except json.JSONDecodeError as e:
    print("ì˜ëª»ëœ JSONì…ë‹ˆë‹¤:", e)
```

### 7. ì‘ë‹µ ê°ì²´ì™€ì˜ í†µí•© (`requests` ëª¨ë“ˆ)

`requests` ëª¨ë“ˆì—ì„œ ì œê³µí•˜ëŠ” `.json()` ë©”ì„œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ `json.loads()`ë¥¼ ì‚¬ìš©í•˜ì—¬ JSON ì‘ë‹µ ë³¸ë¬¸ì„ íŒŒì‹±í•œë‹¤.

```
import requests

r = requests.get("https://jsonplaceholder.typicode.com/posts/1")
data = r.json()
```

### 8. JSON ëª¨ë“ˆ í•¨ìˆ˜ ìš”ì•½

| í•¨ìˆ˜                 | ì„¤ëª…                                       |
| -------------------- | ------------------------------------------ |
| `json.load(fp)`      | íŒŒì¼ ê°ì²´ì—ì„œ JSONì„ ì½ì–´ Python ê°ì²´ ë°˜í™˜ |
| `json.dump(obj, fp)` | Python ê°ì²´ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ íŒŒì¼ì— ê¸°ë¡    |
| `json.loads(s)`      | ë¬¸ìì—´ì—ì„œ JSONì„ ì½ì–´ Python ê°ì²´ ë°˜í™˜    |
| `json.dumps(obj)`    | Python ê°ì²´ë¥¼ JSON í˜•ì‹ì˜ ë¬¸ìì—´ë¡œ ë°˜í™˜    |

### ğŸ§© ë§ˆë¬´ë¦¬

Pythonì˜ `json` ëª¨ë“ˆì€ **ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ JSON ì²˜ë¦¬ ê¸°ëŠ¥**ì„ ì œê³µí•˜ë©°, ì›¹ API í†µì‹ , ì„¤ì • íŒŒì¼ ë¡œë”©, ì§ë ¬í™” ê¸°ë°˜ ì €ì¥ ë“±ì— í•„ìˆ˜ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.
 ì‹¤ì œ ì‘ìš©ì—ì„œëŠ” JSON Schema, ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬, ì¤‘ì²© êµ¬ì¡° íŒŒì‹± ë“±ì˜ ê¸°ìˆ ê³¼ í•¨ê»˜ ì‚¬ìš©ëœë‹¤.

## ê°„ë‹¨í•œ ì›¹ ì„œë²„ êµ¬ì„± (`http.server`, `Flask`)

### 1ï¸âƒ£ `http.server` â€“ Python ë‚´ì¥ ì›¹ ì„œë²„

#### ğŸ“¦ íŠ¹ì§•

- Python 3.xì— ë‚´ì¥ë¨
- ì •ì  HTML, ì´ë¯¸ì§€, JS/CSS íŒŒì¼ ì œê³µìš©ìœ¼ë¡œ ì í•©
- ë³„ë„ ì„¤ì¹˜ ì—†ì´ `1ì¤„`ë¡œ ì‹¤í–‰ ê°€ëŠ¥

#### âœ… ì‹¤í–‰ ì˜ˆ

```
python -m http.server 8000
```

- í˜„ì¬ ë””ë ‰í† ë¦¬ë¥¼ ë£¨íŠ¸ë¡œ í•˜ëŠ” ì •ì  íŒŒì¼ ì„œë²„
- ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8000` ì ‘ì† ê°€ëŠ¥
- ê¸°ë³¸ í¬íŠ¸: `8000`

#### ğŸ§° ì»¤ìŠ¤í…€ í•¸ë“¤ëŸ¬ ì˜ˆì‹œ

```
from http.server import SimpleHTTPRequestHandler, HTTPServer

PORT = 8080

class MyHandler(SimpleHTTPRequestHandler):
    def do_GET(self):
        if self.path == "/hello":
            self.send_response(200)
            self.send_header("Content-type", "text/plain")
            self.end_headers()
            self.wfile.write(b"Hello, World!")
        else:
            super().do_GET()

with HTTPServer(("", PORT), MyHandler) as httpd:
    print(f"Serving on port {PORT}")
    httpd.serve_forever()
```

### 2ï¸âƒ£ `Flask` â€“ ë™ì  ì›¹ ì„œë²„ í”„ë ˆì„ì›Œí¬

#### ğŸ“¦ íŠ¹ì§•

- `pip install flask` ë¡œ ì„¤ì¹˜
- REST API, HTML ë Œë”ë§, ë¼ìš°íŒ…, ìš”ì²­ íŒŒë¼ë¯¸í„° ë“± ì§€ì›
- ì‹¤ì „ API ì„œë²„ë‚˜ ì›¹ì•± êµ¬ì„±ì— ì í•©

#### âœ… ì„¤ì¹˜

```
pip install flask
```

#### âœ… ê¸°ë³¸ ì•± ì˜ˆì œ

```
from flask import Flask

app = Flask(__name__)

@app.route("/")
def index():
    return "Hello, Flask!"

@app.route("/user/<name>")
def greet(name):
    return f"Hello, {name}!"

if __name__ == "__main__":
    app.run(port=5000, debug=True)
```

- `http://localhost:5000/`
- ë™ì  ë¼ìš°íŒ… ì§€ì› (`/user/<name>`)

#### ğŸ§ª POST ìš”ì²­ ë°›ê¸°

```
from flask import request

@app.route("/echo", methods=["POST"])
def echo():
    data = request.json
    return {"received": data}
```

#### ğŸ“ ì •ì  íŒŒì¼, í…œí”Œë¦¿ ì²˜ë¦¬

```
# /static â†’ ì •ì  íŒŒì¼ ì œê³µ
# /templates â†’ Jinja2 ê¸°ë°˜ HTML í…œí”Œë¦¿ ì²˜ë¦¬
```

### âœ… ë¹„êµ ìš”ì•½

| í•­ëª©         | `http.server`      | `Flask`                    |
| ------------ | ------------------ | -------------------------- |
| ìš©ë„         | ì •ì  íŒŒì¼ ì„œë²„     | ë™ì  ì›¹ ì„œë²„ / API         |
| ì„¤ì¹˜         | ë¶ˆí•„ìš” (í‘œì¤€ ëª¨ë“ˆ) | í•„ìš” (`pip install flask`) |
| ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ | ì–´ë ¤ì›€             | ë§¤ìš° ìœ ì—°                  |
| ë¼ìš°íŒ…       | ì—†ìŒ (ì •ì  ê²½ë¡œ)   | ìˆìŒ (`@app.route`)        |
| ì‹¤ì „ ì„œë²„ìš©  | âŒ ê°œë°œ/ì„ì‹œìš©      | â­• API, ì›¹ ì„œë¹„ìŠ¤ ê°œë°œìš©    |

